<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>???????? ??? ???</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Vazirmatn', sans-serif; background: linear-gradient(135deg, #1e3c72, #2a5298); color: white; }
    .btn { @apply px-6 py-3 rounded-xl font-bold transition-all duration-300 transform hover:scale-105; }
  </style>
</head>
<body class="min-h-screen">
  <div class="container mx-auto px-4 py-8 text-center">
    <h1 class="text-4xl font-bold mb-4">???????? ??? ???</h1>
    <p class="text-lg mb-8">?? ?? ????? ??? ????!</p>

    <button id="connectBtn" class="btn bg-gradient-to-r from-purple-600 to-pink-600">
      ????? ?? ??????
    </button>
    <p id="account" class="mt-4"></p>

    <div id="form" class="hidden mt-8 max-w-md mx-auto space-y-4">
      <select id="tokenSelect" class="w-full p-3 rounded-xl bg-white/20 border border-white/30">
        <option value="0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48">USDC</option>
        <option value="0xdAC17F958D2ee523a2206206994597C13D831ec7">USDT</option>
      </select>
      <input type="number" id="amountInput" value="5" class="w-full p-3 rounded-xl bg-white/20 border border-white/30" />
      <button id="startBtn" class="w-full btn bg-gradient-to-r from-green-500 to-teal-600 text-xl">
        ???? ????????
      </button>
    </div>

    <div id="status" class="mt-6 hidden">
      <p id="statusText"></p>
    </div>
  </div>

  <script src="https://cdn.ethers.io/lib/ethers-5.7.umd.min.js"></script>
  <script>
    const ABI = [ /* ABI ????? ?? ?? Remix ??? ?? */ ];
    const CONTRACT_ADDRESS = "0xYOUR_CONTRACT_ADDRESS";

    let provider, signer, contract, account;

    document.getElementById('connectBtn').onclick = async () => {
      if (!window.ethereum) return alert("?????? ??? ????!");
      try {
        await window.ethereum.request({ method: 'eth_requestAccounts' });
        provider = new ethers.providers.Web3Provider(window.ethereum);
        signer = provider.getSigner();
        account = await signer.getAddress();
        contract = new ethers.Contract(CONTRACT_ADDRESS, ABI, signer);
        document.getElementById('account').textContent = account.slice(0,6) + "..." + account.slice(-4);
        document.getElementById('connectBtn').classList.add('hidden');
        document.getElementById('form').classList.remove('hidden');
      } catch (err) { alert(err.message); }
    };

    document.getElementById('startBtn').onclick = async () => {
      const token = document.getElementById('tokenSelect').value;
      const amount = ethers.utils.parseEther(document.getElementById('amountInput').value);
      document.getElementById('status').classList.remove('hidden');
      document.getElementById('statusText').textContent = "?? ??? ????...";
      try {
        const tx = await contract.startArbitrage(token, amount);
        await tx.wait();
        document.getElementById('statusText').textContent = "??? ????? ??!";
      } catch (err) {
        document.getElementById('statusText').textContent = "???: " + err.message;
      }
    };
  </script>
</body>
</html>